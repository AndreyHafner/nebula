<?xml version="1.0" encoding="UTF-8"?>
<project name="org.eclipse.nebula.widgets.grid" default="doitall" basedir=".">

	<target name="doitall">
		<antcall target="pdebuild" />
		<antcall target="javadoc" />
		<antcall target="snippets" />
		<antcall target="zip" />
	</target>

	<target name="pdebuild">
		<ant antfile="build.xml" target="build.update.jar" />
	</target>

	<target name="javadoc">
		<javadoc destdir="${nebula.build.temp}/javadoc" packagenames="org.eclipse.nebula.widgets.grid.*" excludepackagenames="org.eclipse.nebula.widgets.grid.internal.*" sourcepath="src" />
	</target>

	<target name="snippets">
		<cvs cvsRoot=":pserver:anonymous@dev.eclipse.org:/cvsroot/technology" package="org.eclipse.swt.nebula/org.eclipse.swt.nebula.snippets/src/org/eclipse/swt/nebula/snippets/grid" dest="${nebula.build.temp}/snippets" />

		<copy todir="${nebula.build.temp}/snippets">
			<fileset dir="${nebula.build.temp}/snippets/org.eclipse.swt.nebula\org.eclipse.swt.nebula.snippets\src\org\eclipse\swt\nebula\snippets\grid" />
		</copy>

		<delete dir="${nebula.build.temp}/snippets/org.eclipse.swt.nebula" />
	</target>


	<target name="zip">
		<tstamp />
		<zip destfile="${nebula.build.output}/grid_1.0_ALPHA_NIGHTLY.zip">
			<zipfileset dir="src" prefix="src" />
			<zipfileset dir="${nebula.build.temp}\javadoc" prefix="javadoc" />
			<zipfileset dir="${nebula.build.temp}\snippets" prefix="snippets" />
			<zipfileset dir="." file="org.eclipse.nebula.widgets.grid_1.0.0.jar" />
		</zip>
	</target>
</project>